{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\cerve\\\\OneDrive\\\\Documentos\\\\BCNFEMTECH\\\\bftp2-proyecto-pedagogico-server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import'./Styles/App.css';import React,{useEffect,useState}from\"react\";import Header from\"./components/Header\";import Footer from\"./components/Footer\";import Home from\"./components/Home\";import{BrowserRouter,Route,Routes,Navigate}from\"react-router-dom\";import AboutUs from\"./components/AboutUs\";import Enquires from\"./components/Enquires\";import Form from\"./components/Form\";import Login from\"./components/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Declaración de constantes\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),experiences=_useState2[0],setExperiences=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),experiencesToShow=_useState4[0],setExperiencesToShow=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),keyword=_useState6[0],setKeyword=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),reference=_useState8[0],setReference=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),requiresUpdate=_useState10[0],setRequiresUpdate=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showForm=_useState12[0],setShowForm=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showLoginForm=_useState14[0],setShowLoginForm=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoggedIn=_useState16[0],setIsLoggedIn=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),user=_useState18[0],setUser=_useState18[1];// API Fetch\nuseEffect(function(){if(requiresUpdate){fetch(\"http://localhost:8080/api/experiences\").then(function(r){return r.json();}).then(setExperiences).then(function(_){return setRequiresUpdate(false);});}},[requiresUpdate]);useEffect(function(){setExperiencesToShow(experiences);},[experiences]);var deleteExperience=function deleteExperience(id){fetch(\"http://localhost:8080/api/experiences/delete/\".concat(id),{method:'GET'}).then(function(_){return setRequiresUpdate(true);});};var addExperience=function addExperience(experience){fetch(\"http://localhost:8080/api/experiences\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(experience)}).then(function(_){return setRequiresUpdate(true);});};// SearchBar/Filtering function\nvar filter=function filter(e){e.preventDefault();var keyword=e.target.value;setKeyword(keyword);if(keyword!==''){var results=experiences.filter(function(experience){reference.current.scrollIntoView();return experience.name.toLowerCase().includes(keyword.toLowerCase());// Use the toLowerCase() method to make it case-insensitive\n});setExperiencesToShow(results);}else{setExperiencesToShow(experiences);// If the text field is empty, show all users\n}};return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,{filter:filter,onButtonClicked:function onButtonClicked(){return setShowForm(true);},user:user,onLoginChange:function onLoginChange(isActive){return setIsLoggedIn(isActive);},loggedIn:isLoggedIn,experiences:experiences}),showForm&&/*#__PURE__*/_jsx(Form,{onSubmit:function onSubmit(e){return addExperience(e);},onClose:function onClose(){return setShowForm(false);}}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",index:true,element:/*#__PURE__*/_jsx(Home,{loggedIn:isLoggedIn,setReference:setReference,keyword:keyword,experiences:experiencesToShow,deleteExperience:deleteExperience,editExperience:addExperience})}),/*#__PURE__*/_jsx(Route,{path:\"/AboutUs\",element:/*#__PURE__*/_jsx(AboutUs,{})}),\"l\",/*#__PURE__*/_jsx(Route,{path:\"/Enquires\",element:/*#__PURE__*/_jsx(Enquires,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})})]}),showLoginForm&&/*#__PURE__*/_jsx(Login,{onClose:function onClose(){return setShowLoginForm(false);},onSubmit:function onSubmit(e){return setUser(e);},user:user,setUser:setUser,onLoginChange:function onLoginChange(isActive){return setIsLoggedIn(isActive);}}),/*#__PURE__*/_jsx(Footer,{onButtonClicked:function onButtonClicked(){return setShowLoginForm(true);}})]});}export default App;","map":{"version":3,"sources":["C:/Users/cerve/OneDrive/Documentos/BCNFEMTECH/bftp2-proyecto-pedagogico-server/client/src/App.js"],"names":["React","useEffect","useState","Header","Footer","Home","BrowserRouter","Route","Routes","Navigate","AboutUs","Enquires","Form","Login","App","experiences","setExperiences","experiencesToShow","setExperiencesToShow","keyword","setKeyword","reference","setReference","requiresUpdate","setRequiresUpdate","showForm","setShowForm","showLoginForm","setShowLoginForm","isLoggedIn","setIsLoggedIn","user","setUser","fetch","then","r","json","_","deleteExperience","id","method","addExperience","experience","headers","body","JSON","stringify","filter","e","preventDefault","target","value","results","current","scrollIntoView","name","toLowerCase","includes","isActive"],"mappings":"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","sourcesContent":["import './Styles/App.css';\r\nimport React, {useEffect, useState} from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport Home from \"./components/Home\";\r\nimport {BrowserRouter, Route, Routes, Navigate} from \"react-router-dom\";\r\nimport AboutUs from \"./components/AboutUs\";\r\nimport Enquires from \"./components/Enquires\";\r\nimport Form from \"./components/Form\";\r\nimport Login from \"./components/Login\";\r\n\r\nfunction App() {\r\n\r\n    // Declaración de constantes\r\n\r\n    const [experiences, setExperiences] = useState([]);\r\n    const [experiencesToShow, setExperiencesToShow] = useState([]);\r\n    const [keyword, setKeyword] = useState();\r\n    const [reference, setReference] = useState()\r\n    const [requiresUpdate, setRequiresUpdate] = useState(true);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [showLoginForm, setShowLoginForm] = useState(false);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [user, setUser] = useState([]);\r\n\r\n    // API Fetch\r\n\r\n    useEffect(() => {\r\n        if (requiresUpdate) {\r\n            fetch(\"http://localhost:8080/api/experiences\")\r\n                .then(r => r.json())\r\n                .then(setExperiences)\r\n                .then(_ => setRequiresUpdate(false));\r\n        }\r\n    }, [requiresUpdate])\r\n\r\n    useEffect(() => {\r\n        setExperiencesToShow(experiences)\r\n    }, [experiences])\r\n\r\n    const deleteExperience = (id) => {\r\n        fetch(`http://localhost:8080/api/experiences/delete/${id}`,\r\n            {\r\n                method: 'GET'\r\n            }\r\n        ).then(_ => setRequiresUpdate(true))\r\n\r\n    }\r\n\r\n    const addExperience = (experience) => {\r\n        fetch(\"http://localhost:8080/api/experiences\",\r\n            {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify(experience)\r\n            }\r\n        ).then(_ => setRequiresUpdate(true))\r\n\r\n    }\r\n\r\n    // SearchBar/Filtering function\r\n\r\n    const filter = (e) => {\r\n        e.preventDefault();\r\n        const keyword = e.target.value;\r\n        setKeyword(keyword)\r\n\r\n        if (keyword !== '') {\r\n            const results = experiences.filter((experience) => {\r\n                reference.current.scrollIntoView();\r\n                return experience.name.toLowerCase().includes(keyword.toLowerCase());\r\n                // Use the toLowerCase() method to make it case-insensitive\r\n            });\r\n            setExperiencesToShow(results);\r\n        } else {\r\n            setExperiencesToShow(experiences);\r\n            // If the text field is empty, show all users\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Header filter={filter} onButtonClicked={() => setShowForm(true)}\r\n                    user={user}   onLoginChange={ (isActive) => setIsLoggedIn(isActive)} loggedIn={isLoggedIn} experiences={experiences}/>\r\n            { showForm && <Form onSubmit={e => addExperience(e)} onClose={()=>setShowForm(false)}/>}\r\n            <Routes>\r\n                <Route path=\"/\" index element={<Home loggedIn={isLoggedIn} setReference={setReference} keyword={keyword} experiences={experiencesToShow} deleteExperience={deleteExperience} editExperience={addExperience} />}/>\r\n                <Route path=\"/AboutUs\" element={<AboutUs />} />l\r\n                <Route path=\"/Enquires\" element={<Enquires />} />\r\n                <Route path=\"*\" element={<Navigate replace to=\"/\"/>}  />\r\n            </Routes>\r\n            { showLoginForm && <Login onClose={() => setShowLoginForm(false)} onSubmit={e => setUser(e)}\r\n                                   user={user} setUser={setUser}  onLoginChange={ (isActive) => setIsLoggedIn(isActive)} />}\r\n\r\n            <Footer onButtonClicked={() => setShowLoginForm(true)}  />\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}